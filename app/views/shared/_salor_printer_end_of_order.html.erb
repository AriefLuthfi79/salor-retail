if (print == 'true') {
  print_order($('.order-id').html());
}
get('/orders/complete_order_ajax?order_id='+$('.order-id').html()+'&ajax=true&change='+toFloat($('#complete_order_change').html())+'&print=' + print + '&' + decodeURIComponent(serializePayments()), filename, function() {
      <% if $Register.artema_hybrid then  %>
        bycard_hide_waiting();
      <% end %>
    sendingOrder = false;
    <% if $Conf.open_cash_drawer or not @cash_register.cash_drawer_path.blank?  %>
      if (!$('.bycard-amount').val()) {
        quick_open_drawer();
      }
    <% end %>
  }, 'get', function() {
    sendingOrder = false;
    allow_complete_order();
    allow_payment_amount = true;
  });
